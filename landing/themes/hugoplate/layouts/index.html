{{ define "main" }}
  {{ with .Params.banner }}
    <section class="section relative overflow-hidden pt-20 lg:pt-24">
      <div class="pointer-events-none absolute -left-16 top-0 h-72 w-72 rounded-full bg-[rgba(127,86,217,0.15)] blur-blob"></div>
      <div class="pointer-events-none absolute -right-24 bottom-[-80px] h-80 w-80 rounded-full bg-[rgba(91,141,239,0.2)] blur-blob"></div>
      <div class="container relative">
        <div class="grid items-center gap-12 lg:grid-cols-2">
          <div class="space-y-6">
            {{ with .badge }}<span class="hero-badge">{{ . }}</span>{{ end }}
            <h1 class="text-h3 lg:text-h1 leading-tight">
              {{ .title | markdownify }}
            </h1>
            <p class="text-lg text-text">
              {{ .content | markdownify }}
            </p>
            <div class="flex flex-wrap items-center gap-3">
              {{ with .button }}
                {{ if .enable }}
                  {{ $primaryLink := .link | default site.Params.appURL }}
                  <a class="btn btn-primary" href="{{ $primaryLink | absURL }}">
                    {{ .label }}
                    <i class="fa fa-arrow-right pl-2"></i>
                  </a>
                {{ end }}
              {{ end }}
              {{ with .secondary_button }}
                {{ if .enable }}
                  <a class="btn-ghost" href="{{ .link | relLangURL }}">
                    {{ .label }}
                  </a>
                {{ end }}
              {{ end }}
            </div>
            {{ with .stats }}
              <div class="flex flex-wrap gap-3">
                {{ range . }}
                  <div class="hero-stat">
                    <p class="text-sm text-text-light">{{ .label }}</p>
                    <p class="text-h4 text-text-dark dark:text-darkmode-text-dark">
                      {{ .value }}
                    </p>
                  </div>
                {{ end }}
              </div>
            {{ end }}
          </div>
          <div class="relative">
            <div class="hero-card">
              <div class="hero-card__chrome">
                <span class="hero-card__dot"></span>
                <span class="hero-card__dot"></span>
                <span class="hero-card__dot"></span>
              </div>
              <div class="rounded-2xl border border-border bg-white/90 p-3 shadow-inner dark:border-darkmode-border dark:bg-darkmode-light/80">
                {{ partial "image" (dict "Src" .image "Alt" "Planfree UI preview" "Loading" "eager" "Class" "mx-auto rounded-2xl shadow-lg" "DisplayXL" "800x") }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  {{ with .Params.features }}
    <section class="section-sm">
      <div class="container">
        <div class="section-heading mb-10">
          {{ with .eyebrow }}<span class="section-eyebrow">{{ . }}</span>{{ end }}
          <h2 class="mb-4 text-h3 lg:text-h2">{{ .title | markdownify }}</h2>
          <p class="text-lg text-text">
            {{ .description | markdownify }}
          </p>
        </div>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          {{ range .items }}
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fa-solid fa-{{ .icon | default `circle` }}"></i>
              </div>
              <h3 class="mb-2 text-h5">
                {{ .title | markdownify }}
              </h3>
              <p class="text-text">
                {{ .description | markdownify }}
              </p>
            </div>
          {{ end }}
        </div>
      </div>
    </section>
  {{ end }}

  {{ with .Params.flow }}
    <section class="section-sm bg-gradient">
      <div class="container">
        <div class="grid items-start gap-10 lg:grid-cols-2">
          <div class="space-y-4">
            <span class="section-eyebrow">Workflow</span>
            <h2 class="text-h3 lg:text-h2">
              {{ .title | markdownify }}
            </h2>
            <p class="text-lg text-text">
              {{ .description | markdownify }}
            </p>
            {{ with .callout }}
              <div class="timeline-card mt-4 flex items-start gap-3">
                <span class="timeline-dot mt-1"></span>
                <div>
                  <p class="text-sm font-semibold text-primary">
                    {{ .title }}
                  </p>
                  <p class="text-text">
                    {{ .description }}
                  </p>
                </div>
              </div>
            {{ end }}
          </div>
          <div class="space-y-5">
            {{ $total := len .steps }}
            {{ range $index, $step := .steps }}
              <div class="flex gap-4">
                <div class="flex flex-col items-center">
                  <span class="timeline-dot"></span>
                  {{ if lt (add $index 1) $total }}
                    <span class="block h-full w-px bg-border dark:bg-darkmode-border"></span>
                  {{ end }}
                </div>
                <div class="timeline-card w-full">
                  <p class="text-sm font-semibold text-primary">
                    Step {{ add $index 1 }}
                  </p>
                  <h3 class="mb-1 text-h5">
                    {{ $step.title }}
                  </h3>
                  <p class="text-text">
                    {{ $step.description }}
                  </p>
                </div>
              </div>
            {{ end }}
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  {{ with .Params.testimonials }}
    {{ if .enable }}
      <section class="section">
        <div class="container">
          <div class="section-heading mb-10">
            <h2 class="mb-4 text-h3 lg:text-h2">
              {{ .title | markdownify }}
            </h2>
            <p class="text-lg text-text">
              {{ .description | markdownify }}
            </p>
          </div>
          <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            {{ range .list }}
              <div class="testimonial-card">
                <div class="mb-4 text-primary">
                  <i class="fa-solid fa-quote-left"></i>
                </div>
                <p class="mb-4 text-text">
                  {{ .quote | markdownify }}
                </p>
                <p class="font-semibold text-text-dark dark:text-darkmode-text-dark">
                  {{ .name }}
                </p>
                <p class="text-sm text-text-light">
                  {{ .role }}
                </p>
              </div>
            {{ end }}
          </div>
        </div>
      </section>
    {{ end }}
  {{ end }}

  {{ with .Params.cta }}
    <section class="section-sm">
      <div class="container">
        <div class="cta-panel">
          <div class="pointer-events-none absolute right-10 top-0 h-32 w-32 rounded-full bg-[rgba(127,86,217,0.2)] blur-blob"></div>
          <div class="pointer-events-none absolute -left-6 bottom-0 h-32 w-32 rounded-full bg-[rgba(91,141,239,0.2)] blur-blob"></div>
          <div class="grid items-center gap-8 lg:grid-cols-2">
            <div>
              <h2 class="mb-3 text-h3 lg:text-h2">
                {{ .title | markdownify }}
              </h2>
              <p class="text-lg text-text">
                {{ .description | markdownify }}
              </p>
            </div>
            <div class="flex flex-wrap justify-start gap-3 lg:justify-end">
              {{ with .button }}
                {{ $ctaLink := .link | default site.Params.appURL }}
                <a class="btn btn-primary" href="{{ $ctaLink | absURL }}">
                  {{ .label }}
                </a>
              {{ end }}
              {{ with .secondary }}
                <a class="btn-ghost" href="{{ .link | relLangURL }}">
                  {{ .label }}
                </a>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}
{{ end }}
